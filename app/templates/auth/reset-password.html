{% include 'fragments/_flashed-msgs.html' %}

<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-5 col-md-8 col-12">
      <form 
          class="form py-4 px-2" 
          method="post"
          hx-target="#content"
          hx-boost="true" 
          hx-post="{{ url_for('auth.reset_password', token=token) }}" 
          hx-indicator="#indicator">
        <h3 class="text-center mb-4">&#x2015; Reset password &#x2015;</h3>
        {{ form.csrf_token }}
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          {% if form.password.errors %}
            {{ form.password(id="password", class="form-control is-invalid", placeholder="******") }}
            {% for error in form.password.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          {% else %}
            {{ form.password(id="password", class="form-control", placeholder="******") }}
          {% endif %}
          <small class="form-text d-block">- Password must be 6 characters at least.</small>
        </div>
        <div class="mb-3">
          <label for="confirm_password" class="form-label">Confirm Password</label>
          {% if form.confirm_password.errors %}
            {{ form.confirm_password(id="confirm_password", class="form-control is-invalid", placeholder="******") }}
            {% for error in form.confirm_password.errors %}
              <div class="invalid-feedback">{{ error }}</div>
            {% endfor %}
          {% else %}
            {{ form.confirm_password(id="confirm_password", class="form-control", placeholder="******") }}
          {% endif %}
        </div>
        <div class="text-center mb-4">
          <button type="submit" class="btn px-5">Reset</button>
        </div>
      </form>
    </div>
  </div>
</div>